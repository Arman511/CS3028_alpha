{% extends "base.html" %}
{% block content %}
    <div class="card-wrapper">
        <div class="card">
            <h2 class="center">Update your Details</h2>
            <form class="update_form">
                <label for="student_id">Student Number:</label>
                <input name="student_id"
                       id="student_id"
                       class="form-control"
                       type="text"
                       value="{{ student.student_id }}"
                       readonly />
                <label for="first_name">First Name:</label>
                <input type="text"
                       id="first_name"
                       name="first_name"
                       class="form-control"
                       value="{{ student.first_name }}"
                       readonly />
                <label for="last_name">Last Name:</label>
                <input type="text"
                       id="last_name"
                       name="last_name"
                       class="form-control"
                       value="{{ student.last_name }}"
                       readonly />
                <label for="email">Email:</label>
                <input type="email"
                       id="email"
                       name="email"
                       class="form-control"
                       value="{{ student.email }}"
                       readonly />
                <label for="course">Course:</label>
                <select id="course" name="course" class="form-control" required>
                    {% for course in courses[0]["json"] %}
                        <option value="{{ course.course_id }}"
                                {% if course.course_id == student.course_id %}selected{% endif %}>
                            {{ course.course_name }}
                        </option>
                    {% endfor %}
                </select>
                <select id="skills" name="skills" class="form-control" multiple required>
                    {% for skill in skills[0]["json"] %}
                        <option value="{{ skill._id }}"
                                title="{{ skill.skill_description }}"
                                {% if skill._id in student.skills %}selected{% endif %}>{{ skill.skill_name }}</option>
                    {% endfor %}
                </select>
                <label for="new_skill">Add New Skill:</label>
                <input type="text"
                       id="new_skill"
                       name="new_skill"
                       class="form-control"
                       placeholder="Type a new skill" />
                <button type="button" id="add_skill" class="btn">Add Skill</button>
                <label for="placement_duration">Placement Duration:</label>
                <select id="placement_duration"
                        name="placement_duration"
                        class="form-control"
                        required>
                    <option value="1_day">1 Day</option>
                    <option value="1_week">1 Week</option>
                    <option value="1_month">1 Month</option>
                    <option value="3_months">3 Months</option>
                    <option value="6_months">6 Months</option>
                    <option value="12_months">12 Months</option>
                </select>
                <label for="has_car">Do you have a car?</label>
                <input type="checkbox"
                       id="has_car"
                       name="has_car"
                       {% if student.has_car %}checked{% endif %}>
                <label for="modules">Modules (Multiselect, hold ctrl to select them):</label>
                <select id="modules" name="modules" class="form-control" multiple required>
                    {% for module in modules[0]["json"] %}
                        <option value="{{ module.module_id }}"
                                {% if module.module_id in student.module %}selected{% endif %}>
                            {{ module.module_id }}
                        </option>
                    {% endfor %}
                </select>
                <label for="comments">Any Other Comments:</label>
                <textarea id="comments" name="comments" class="form-control" rows="4">{{ student.comments }}</textarea>
                <p class="error error--hidden"></p>
                <p class="success success--hidden"></p>
                <input type="submit" value="Update" class="btn" />
            </form>
            <script src="/static/student_update/script.js"></script>
        </div>
    </div>
{% endblock content %}
